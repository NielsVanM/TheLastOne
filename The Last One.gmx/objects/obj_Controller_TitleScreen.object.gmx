<!--This Document is generated by GameMaker, if you edit it by hand then you do so at your own risk!-->
<object>
  <spriteName>spr_Controller</spriteName>
  <solid>0</solid>
  <visible>-1</visible>
  <depth>-1000000</depth>
  <persistent>0</persistent>
  <parentName>&lt;undefined&gt;</parentName>
  <maskName>&lt;undefined&gt;</maskName>
  <events>
    <event eventtype="0" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Variables
mainSelected = 0;
optionSelected = 0;
exitSelected = 0;
survivalSelected = 0;

optionMenu = false;
survivalMenu = false;

enterLock = 0;

//Start music
sound_volume(snd_Music_TitleScreen,100)
if (global.music = true){sound_play(snd_Music_TitleScreen)}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="3" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Selection Code
//main menu
if (optionMenu = false &amp;&amp; survivalMenu = false)
{
    //Main menu
    //User input
    if (keyboard_check_pressed(vk_up)){mainSelected -= 1;}
    if (keyboard_check_pressed(vk_down)){mainSelected += 1;}
    
    //If mainSelected becomes to big select first option
    if (mainSelected &gt; 4){mainSelected = 0;}
    if (mainSelected &lt; 0){mainSelected = 4;}
    
    //If enter is pressed execute button
    if (keyboard_check_pressed(vk_enter) &amp;&amp; enterLock = 0)
    {
        enterLock = 2;
        if (mainSelected = 0){room_goto(rm_Home_Upstairs);}
        if (mainSelected = 1){/*Load game*/}
        if (mainSelected = 2){survivalMenu = true;}
        if (mainSelected = 3){optionMenu = true;}
        if (mainSelected = 4){game_end();}
    }
}

//Option Menu
if (optionMenu = true)
{
    //User input
    if (keyboard_check_pressed(vk_up)){optionSelected -= 1;}
    if (keyboard_check_pressed(vk_down)){optionSelected += 1;}
    
    //If optionSelected becomes to big select first option
    if (optionSelected &gt; 3){optionSelected = 0;}
    if (optionSelected &lt; 0){optionSelected = 3;}
    
    //If enter is pressed execute button
    if (keyboard_check_pressed(vk_enter) &amp;&amp; enterLock = 0)
    {
        enterLock = 2;
        if (optionSelected = 0){if (global.music = true){global.music = false;}else{global.music = true;}}
        if (optionSelected = 1){if (global.sound = true){global.sound = false;}else{global.sound = true;}}
        if (optionSelected = 2){if (global.particles = true){global.particles = false;}else{global.particles = true;}}
        if (optionSelected = 3){script_execute(scr_SaveSettings); optionMenu = false;}
    }
}

//Survival menu
if (survivalMenu = true)
{
    //User input
    if (keyboard_check_pressed(vk_up)){survivalSelected -= 1;}
    if (keyboard_check_pressed(vk_down)){survivalSelected += 1;}
    
    //If optionSelected becomes to big select first option
    if (survivalSelected &gt; 2){survivalSelected = 0;}
    if (survivalSelected &lt; 0){survivalSelected = 2;}
    
    //If enter is pressed execute button
    if (keyboard_check_pressed(vk_enter) &amp;&amp; enterLock = 0)
    {
        enterLock = 2;
        if (survivalSelected = 0){}
        if (survivalSelected = 1){}
        if (survivalSelected = 2){survivalMenu = false;}
    }
}


//Resetting enterLock
if (enterLock &gt; 0)
{
    enterLock -= 1;
}
</string>
          </argument>
        </arguments>
      </action>
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Start/Stop music
if (global.music = false)
{
    if (sound_isplaying(snd_Music_TitleScreen))
    {
        sound_stop(snd_Music_TitleScreen);
    }
}
if (global.music = true &amp;&amp; !sound_isplaying(snd_Music_TitleScreen))
{
    sound_play(snd_Music_TitleScreen);
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="7" enumb="4">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Load settings
script_execute(scr_LoadSettings);
</string>
          </argument>
        </arguments>
      </action>
    </event>
    <event eventtype="8" enumb="0">
      <action>
        <libid>1</libid>
        <id>603</id>
        <kind>7</kind>
        <userelative>0</userelative>
        <isquestion>0</isquestion>
        <useapplyto>-1</useapplyto>
        <exetype>2</exetype>
        <functionname></functionname>
        <codestring></codestring>
        <whoName>self</whoName>
        <relative>0</relative>
        <isnot>0</isnot>
        <arguments>
          <argument>
            <kind>1</kind>
            <string>///Draw TitleScreen
//Setting font and centering text
draw_set_halign(fa_center);
draw_set_valign(fa_center);
draw_set_color(c_ltgray);
draw_set_font(fnt_GameTitle);

//Drawing GameName
draw_text(960,230,'The Last One');

//Main menu
if (optionMenu = false &amp;&amp; survivalMenu = false)
{
    //Draw menu text &amp; setting font
    draw_set_font(fnt_TitleScreen);
    draw_text(960,405,'Start New Story');
    draw_text(960,540,'Load Story');
    draw_text(960,675,'Survival');
    draw_text(960,810,'Options');
    draw_text(960,945,'Exit');
    
    //Draw selection bar
    if (mainSelected = 0){draw_text(960,405,'_______________')}
    if (mainSelected = 1){draw_text(960,540,'__________')}
    if (mainSelected = 2){draw_text(960,675,'________')}
    if (mainSelected = 3){draw_text(960,810,'_______')}
    if (mainSelected = 4){draw_text(960,945,'____')}
}

//Option Menu
if (optionMenu = true)
{
    //Setting font &amp; drawing text
    draw_set_font(fnt_TitleScreen);
    if (global.music = true){draw_text(960,540,'Music: On');}else{draw_text(960,540,'Music: Off');}
    if (global.sound = true){draw_text(960,675,'Sound: On');}else{draw_text(960,675,'Sound: Off');}
    if (global.particles = true){draw_text(960,810,'Particles: On');}else{draw_text(960,810,'Particles: Off');}
    draw_text(960,945,'Back')
    
    //Draw selection bar
    if (optionSelected = 0){draw_text(960,540,'_________')}
    if (optionSelected = 1){draw_text(960,675,'_________')}
    if (optionSelected = 2){draw_text(960,810,'_____________')}
    if (optionSelected = 3){draw_text(960,945,'____')}
}

//Surival menu
if (survivalMenu = true)
{
    //Draw menu text &amp; setting font
    draw_set_font(fnt_TitleScreen);
    draw_text(960,540,'New Survial');
    draw_text(960,675,'Load Survival');
    draw_text(960,810,'Back');
    
    //Draw selection bar
    if (survivalSelected = 0){draw_text(960,540,'____________')}
    if (survivalSelected = 1){draw_text(960,675,'_____________')}
    if (survivalSelected = 2){draw_text(960,810,'____')}
}
</string>
          </argument>
        </arguments>
      </action>
    </event>
  </events>
  <PhysicsObject>0</PhysicsObject>
  <PhysicsObjectSensor>0</PhysicsObjectSensor>
  <PhysicsObjectShape>0</PhysicsObjectShape>
  <PhysicsObjectDensity>0.5</PhysicsObjectDensity>
  <PhysicsObjectRestitution>0.100000001490116</PhysicsObjectRestitution>
  <PhysicsObjectGroup>0</PhysicsObjectGroup>
  <PhysicsObjectLinearDamping>0.100000001490116</PhysicsObjectLinearDamping>
  <PhysicsObjectAngularDamping>0.100000001490116</PhysicsObjectAngularDamping>
  <PhysicsObjectFriction>0.200000002980232</PhysicsObjectFriction>
  <PhysicsObjectAwake>-1</PhysicsObjectAwake>
  <PhysicsObjectKinematic>0</PhysicsObjectKinematic>
  <PhysicsShapePoints>
    <point>8,8</point>
    <point>8,8</point>
  </PhysicsShapePoints>
</object>
